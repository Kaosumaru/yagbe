on:
  push:
    branches:
    - master
    - release/*
name: Build
jobs:
  gitHubActionForDocker:
    name: GitHub Action for Docker
    runs-on: ubuntu-latest
    container:
      image: docker://apiaryio/emcc
      volumes:
      - /src:/github/workspace
    steps:
    - uses: actions/checkout@master
    - name: Chmod scripts
      run: |
        chmod +x ./docker/docker_emscripten.sh
        chmod +x ./docker/build_debug.sh
        chmod +x ./docker/build.sh
    - name: Build
      run: |
        ./docker/build.sh
